# 튜터 제외(차단) 기능

## 배경

EduTalk는 1:1 영어/일본어 회화 수업을 랜덤 튜터 매칭으로 제공하고 있다. 랜덤 매칭 특성상 이전에 부정적 경험이 있었던 튜터와 재매칭될 수 있으며, 이 경우 수강생은 수업을 취소하거나 서비스를 이탈하게 된다.

- 최근 3개월 튜터 관련 CS 인입: 약 100건, 이 중 "다시 만나기 싫다" 유형 18%
- 외부 설문(500명): 56%가 원치 않는 튜터를 만난 경험 있음
- CX팀이 월 15~20건 수동으로 매칭 제외 처리 중
- 튜터 불만 관련 월 환불액 약 300만원

## 만들어야 할 기능

### 1. 수업 후 평가

수강생이 ClassBoard에서 수업을 마치고 예약 탭에 진입하면, 미평가 수업에 대해 "오늘 수업은 어떠셨나요?" 팝업을 노출한다.

- 하루 1회, 가장 최근 수업 1건만 노출
- 1~5점 별점 선택
- 긍정(3~5점): 좋았던 점 복수 선택 → 제출
- 부정(1~2점): 아쉬운 점 복수 선택 + "이 튜터를 다시 만나지 않을래요" 차단 제안 체크박스 → 제출
- 건너뛰기(텍스트 링크)로 평가를 강제하지 않음
- 저장: "다음" 클릭 → 별점만 저장, "제출" → 별점+사유 저장, 건너뛰기/X닫기 → 저장 안 함

### 2. 튜터 차단

수강생이 특정 튜터를 차단하면 해당 튜터가 매칭 풀에서 즉시 제외된다.

- 진입점 3가지:
  1. 수업 후 평가에서 부정(1~2점) 시 차단 제안
  2. 수업 이력 상세 페이지에서 직접 차단
  3. 차단 관리 페이지에서 추가
- 차단 한도: 언어당 최대 5명 (영어 5명 + 일본어 5명 별도)
- 한도 초과 시: 안내 메시지 + 차단 관리 페이지 이동 유도
- 이미 예약된 수업에는 영향 없음, 차단 이후 새 예약부터 적용

### 3. 차단 관리 페이지

MyPage > 수업 설정 > 튜터 관리 메뉴에서 차단 목록을 관리한다.

- 차단된 튜터 프로필(이름, 사진), 차단 일시, 마지막 수업 일시 표시
- 차단 해제: 해제 버튼 → 확인 팝업 → 해제 완료 → 매칭 풀 복귀
- 비활성(퇴사/장기 휴직) 튜터: '비활성' 라벨 표시, 차단 한도에 포함

## 사용자 시나리오

**시나리오 1: 수업 후 평가 → 차단**
수강생이 수업 종료 후 예약 탭으로 돌아옴 → 평가 팝업 노출 → 1점 선택 → 아쉬운 점 선택 → "이 튜터를 다시 만나지 않을래요" 체크 → 제출 → 차단 확인 팝업 → 차단 완료 → 이후 예약에서 해당 튜터 매칭 제외

**시나리오 2: 수업 이력에서 차단**
수강생이 과거 불쾌했던 수업을 떠올리고 수업 이력 상세 페이지에서 "이 튜터 차단하기" 클릭 → 확인 팝업 → 차단 완료

**시나리오 3: 차단 관리**
수강생이 차단 한도(5명)에 도달 → 새로운 차단 시도 시 안내 메시지 → 차단 관리 페이지 이동 → 기존 차단 해제 후 새 차단 추가

## 제약 조건

- 차단 단위: 사용자 ID 기준 (기기/세션 무관)
- 데이터 보존: 해제 후에도 차단 이력 보존 (관리자 조회용)
- 차단 관리 UI: React SPA (기존 MyPage는 Vue.js 2 레거시, 새 기능은 React로 개발하여 링크 연결)
- 이번 스프린트 범위: 수강생 → 튜터 방향 차단만 (튜터 → 수강생 방향은 향후 검토)

## 기대 효과

- 수강생 만족도 향상: 원치 않는 튜터와의 재매칭 방지 → 이탈 감소
- 운영 자동화: CX팀 수동 제외 처리 → 수강생 셀프서비스로 전환
- 튜터 모니터링 강화: 수업 후 평가 데이터 수집률 향상 (현재 6% → 목표 20% 이상)
- 환불 감소: 튜터 불만 관련 환불 월 약 300만원 감소 예상

## 미결 사항

- 평가 팝업 노출 타이밍 세부 (수업 종료 후 몇 분 뒤?)
- 튜터에게 차단 사실 알림 여부
- 관리자 대시보드 차단 통계 노출 범위
- 차단 사유의 튜터 평가 반영 방식
- 비활성 튜터 자동 해제 정책 (향후 검토)
- 앱 푸시로 미평가 수업 리마인더 발송 여부
